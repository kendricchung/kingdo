{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/kendric_chung/Projects/kingdo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/Users/kendric_chung/Projects/kingdo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kendric_chung/Projects/kingdo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kendric_chung/Projects/kingdo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kendric_chung/Projects/kingdo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import TopBar from\"./TopBar\";import CartBar from\"../../Cart/CartBar\";import Menu from\"../Menu\";import{Link}from\"react-router-dom\";import Center from\"react-center\";import{Helmet}from\"react-helmet\";var MenuPage=/*#__PURE__*/function(_Component){_inherits(MenuPage,_Component);var _super=_createSuper(MenuPage);function MenuPage(props){var _this;_classCallCheck(this,MenuPage);_this=_super.call(this,props);_this.addMenuItemToCart=function(cartItem){var currentCartItems=_this.state.cartItems;var currentCartAmount=parseFloat((Math.round(parseFloat(_this.state.cartAmount,10)*100)/100).toFixed(2));currentCartItems.push(cartItem);currentCartAmount+=cartItem.price;sessionStorage.setItem(\"cartItems\",JSON.stringify(currentCartItems));_this.setState({cartItems:currentCartItems,cartAmount:(Math.round(currentCartAmount*100)/100).toFixed(2)});};var items=JSON.parse(sessionStorage.getItem(\"cartItems\"))?JSON.parse(sessionStorage.getItem(\"cartItems\")):[];var totalPrice=0;var _iterator=_createForOfIteratorHelper(items),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;totalPrice+=item.price;}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.state={foodTransportation:sessionStorage.getItem(\"foodTransportMethod\").includes(\"delivery\")?\"delivery\":\"pickup\",cartItems:items,cartAmount:(Math.round(totalPrice*100)/100).toFixed(2)};return _this;}_createClass(MenuPage,[{key:\"render\",value:function render(){if(!this.state.foodTransportation.includes(\"delivery\")&&!this.state.foodTransportation.includes(\"pickup\")){return/*#__PURE__*/React.createElement(Center,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Please return to the main page \",/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"here\"),\".\"));}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,\"King Do Restaurant | Menu\")),/*#__PURE__*/React.createElement(TopBar,null),/*#__PURE__*/React.createElement(Menu,{addMenuItemToCart:this.addMenuItemToCart}),/*#__PURE__*/React.createElement(CartBar,{cartAmount:this.state.cartAmount,cartItems:this.state.cartItems}));}}]);return MenuPage;}(Component);export default MenuPage;","map":{"version":3,"sources":["/Users/kendric_chung/Projects/kingdo/src/Components/Menu/MenuPage/MenuPage.js"],"names":["React","Component","TopBar","CartBar","Menu","Link","Center","Helmet","MenuPage","props","addMenuItemToCart","cartItem","currentCartItems","state","cartItems","currentCartAmount","parseFloat","Math","round","cartAmount","toFixed","push","price","sessionStorage","setItem","JSON","stringify","setState","items","parse","getItem","totalPrice","item","foodTransportation","includes"],"mappings":"+wBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,SAAjB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,OAASC,MAAT,KAAuB,cAAvB,C,GAEMC,CAAAA,Q,oGACJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EADiB,MAoBnBC,iBApBmB,CAoBC,SAACC,QAAD,CAAc,CAChC,GAAIC,CAAAA,gBAAgB,CAAG,MAAKC,KAAL,CAAWC,SAAlC,CACA,GAAIC,CAAAA,iBAAiB,CAAGC,UAAU,CAChC,CAACC,IAAI,CAACC,KAAL,CAAWF,UAAU,CAAC,MAAKH,KAAL,CAAWM,UAAZ,CAAwB,EAAxB,CAAV,CAAwC,GAAnD,EAA0D,GAA3D,EAAgEC,OAAhE,CAAwE,CAAxE,CADgC,CAAlC,CAGAR,gBAAgB,CAACS,IAAjB,CAAsBV,QAAtB,EACAI,iBAAiB,EAAIJ,QAAQ,CAACW,KAA9B,CACAC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAoCC,IAAI,CAACC,SAAL,CAAed,gBAAf,CAApC,EACA,MAAKe,QAAL,CAAc,CACZb,SAAS,CAAEF,gBADC,CAEZO,UAAU,CAAE,CAACF,IAAI,CAACC,KAAL,CAAWH,iBAAiB,CAAG,GAA/B,EAAsC,GAAvC,EAA4CK,OAA5C,CAAoD,CAApD,CAFA,CAAd,EAID,CAhCkB,CAEjB,GAAMQ,CAAAA,KAAK,CAAGH,IAAI,CAACI,KAAL,CAAWN,cAAc,CAACO,OAAf,CAAuB,WAAvB,CAAX,EACVL,IAAI,CAACI,KAAL,CAAWN,cAAc,CAACO,OAAf,CAAuB,WAAvB,CAAX,CADU,CAEV,EAFJ,CAGA,GAAIC,CAAAA,UAAU,CAAG,CAAjB,CALiB,yCAMEH,KANF,YAMjB,+CAA0B,IAAfI,CAAAA,IAAe,aACxBD,UAAU,EAAIC,IAAI,CAACV,KAAnB,CACD,CARgB,qDASjB,MAAKT,KAAL,CAAa,CACXoB,kBAAkB,CAAEV,cAAc,CAC/BO,OADiB,CACT,qBADS,EAEjBI,QAFiB,CAER,UAFQ,EAGhB,UAHgB,CAIhB,QALO,CAMXpB,SAAS,CAAEc,KANA,CAOXT,UAAU,CAAE,CAACF,IAAI,CAACC,KAAL,CAAWa,UAAU,CAAG,GAAxB,EAA+B,GAAhC,EAAqCX,OAArC,CAA6C,CAA7C,CAPD,CAAb,CATiB,aAkBlB,C,4DAgBQ,CACP,GACE,CAAC,KAAKP,KAAL,CAAWoB,kBAAX,CAA8BC,QAA9B,CAAuC,UAAvC,CAAD,EACA,CAAC,KAAKrB,KAAL,CAAWoB,kBAAX,CAA8BC,QAA9B,CAAuC,QAAvC,CAFH,CAGE,CACA,mBACE,oBAAC,MAAD,mBACE,6EACiC,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,SADjC,KADF,CADF,CAOD,CAED,mBACE,4CACE,oBAAC,MAAD,mBACE,6DADF,CADF,cAIE,oBAAC,MAAD,MAJF,cAKE,oBAAC,IAAD,EAAM,iBAAiB,CAAE,KAAKxB,iBAA9B,EALF,cAME,oBAAC,OAAD,EACE,UAAU,CAAE,KAAKG,KAAL,CAAWM,UADzB,CAEE,SAAS,CAAE,KAAKN,KAAL,CAAWC,SAFxB,EANF,CADF,CAaD,C,sBA9DoBb,S,EAiEvB,cAAeO,CAAAA,QAAf","sourcesContent":["import React, { Component } from \"react\";\nimport TopBar from \"./TopBar\";\nimport CartBar from \"../../Cart/CartBar\";\nimport Menu from \"../Menu\";\nimport { Link } from \"react-router-dom\";\nimport Center from \"react-center\";\nimport { Helmet } from \"react-helmet\";\n\nclass MenuPage extends Component {\n  constructor(props) {\n    super(props);\n    const items = JSON.parse(sessionStorage.getItem(\"cartItems\"))\n      ? JSON.parse(sessionStorage.getItem(\"cartItems\"))\n      : [];\n    let totalPrice = 0;\n    for (const item of items) {\n      totalPrice += item.price;\n    }\n    this.state = {\n      foodTransportation: sessionStorage\n        .getItem(\"foodTransportMethod\")\n        .includes(\"delivery\")\n        ? \"delivery\"\n        : \"pickup\",\n      cartItems: items,\n      cartAmount: (Math.round(totalPrice * 100) / 100).toFixed(2),\n    };\n  }\n\n  addMenuItemToCart = (cartItem) => {\n    let currentCartItems = this.state.cartItems;\n    let currentCartAmount = parseFloat(\n      (Math.round(parseFloat(this.state.cartAmount, 10) * 100) / 100).toFixed(2)\n    );\n    currentCartItems.push(cartItem);\n    currentCartAmount += cartItem.price;\n    sessionStorage.setItem(\"cartItems\", JSON.stringify(currentCartItems));\n    this.setState({\n      cartItems: currentCartItems,\n      cartAmount: (Math.round(currentCartAmount * 100) / 100).toFixed(2),\n    });\n  };\n\n  render() {\n    if (\n      !this.state.foodTransportation.includes(\"delivery\") &&\n      !this.state.foodTransportation.includes(\"pickup\")\n    ) {\n      return (\n        <Center>\n          <h1>\n            Please return to the main page <Link to=\"/\">here</Link>.\n          </h1>\n        </Center>\n      );\n    }\n\n    return (\n      <div>\n        <Helmet>\n          <title>King Do Restaurant | Menu</title>\n        </Helmet>\n        <TopBar />\n        <Menu addMenuItemToCart={this.addMenuItemToCart} />\n        <CartBar\n          cartAmount={this.state.cartAmount}\n          cartItems={this.state.cartItems}\n        />\n      </div>\n    );\n  }\n}\n\nexport default MenuPage;\n"]},"metadata":{},"sourceType":"module"}